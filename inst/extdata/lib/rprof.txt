rprof <- "library(qdap); library(reports)\n\nupdate_news <- function(repo = \"REPLACE_ME\") {\n  \n    News <- readLines(\"NEWS\")\n    \n    News <- mgsub(\n        c(\"<\", \">\", \"&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;\", \"BUG FIXES\", \n            \"NEW FEATURES\", \"MINOR FEATURES\", \"CHANGES\", \" TRUE \", \" FALSE \", \n            \" NULL \", \"TRUE.\", \"FALSE.\", \"NULL.\", \":m:\"), \n        c(\"&lt;\", \"&gt;\", \"<b>&lt;major&gt;.&lt;minor&gt;.&lt;patch&gt;</b>\", \n            \"<b>BUG FIXES</b>\", \"<b>NEW FEATURES</b>\", \"<b>MINOR FEATURES</b>\", \n            \"<b>CHANGES</b>\", \" `TRUE` \", \"`FALSE`.\", \"`NULL`.\", \"`TRUE`.\", \n            \" `FALSE` \", \" `NULL` \", \" : m : \"), \n            News, trim = FALSE, fixed=TRUE)\n    \n    News <- sub(pattern=\"issue *# *([0-9]+)\", \n        replacement=sprintf(\"<a href=\\\"https://github.com/trinker/%s/issues/\\\\1\\\">issue #\\\\1</a>\",\n        repo), \n        x=News)\n    \n    News <- sub(pattern=\"pull request *# *([0-9]+)\", \n        replacement=sprintf(\"<a href=\\\"https://github.com/trinker/%s/issues/\\\\1\\\">pull request #\\\\1</a>\",\n        repo), \n        x=News)\n \n    News <- gsub(sprintf(\" %s\", repo), \n        sprintf(\" <a href=\\\"https://github.com/trinker/%s\\\" target=\\\"_blank\\\">%s</a>\", \n        repo, repo), News)\n    \n    cat(paste(News, collapse = \"\\n\"), file = \"NEWS.md\")\n    message(\"news.md updated\")\n}\n"
